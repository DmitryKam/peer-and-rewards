(this["webpackJsonppeer-rewards"]=this["webpackJsonppeer-rewards"]||[]).push([[0],{172:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);a(172);var n=a(0),r=a.n(n),o=a(45),i=a.n(o),c=a(361),s=Object(n.createContext)({}),l=Object(n.createContext)({}),d=a(351),u=Object(d.a)({root:{display:"flex",flexDirection:"column"}}),m=Object(d.a)({root:{marginTop:40},iconContainer:{position:"relative"},iconPosition:{position:"absolute",right:90,top:27,zIndex:999},input:{textAlign:"center",color:"red"},itemContainer:{borderRadius:20,backgroundColor:"#f5f5f5"},tabsContainer:{marginLeft:120}}),b=Object(d.a)({root:{padding:"10px 40px 30px 30px",height:400,overflowY:"auto",margin:0,listStyle:"none","&::-webkit-scrollbar":{width:9},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#fff",borderRadius:10,outline:"1px solid black"}}}),j=Object(d.a)({root:{display:"flex",marginTop:30},feedContainer:{display:"flex",flexDirection:"column",marginLeft:15},userContainer:{display:"flex",flexDirection:"column",marginBottom:15},feedInfo:{maxWidth:750},dateStyle:{width:120},dateMoment:{fontSize:13,cursor:"pointer"}}),p=Object(d.a)({avatar:{margin:"0 20px 20px 20px"},employeeContainer:{display:"flex",marginTop:50,marginLeft:100,alignItems:"center",fontFamily:"Circular Std,sans-serif",fontSize:18},avatarContainer:{display:"flex",flexDirection:"column",alignItems:"center"},infoContainer:{display:"flex","@media (max-width: 705px)":{flexDirection:"column",justifyContent:"center"}},rewardsContainer:{marginLeft:80,"@media (max-width: 705px)":{marginLeft:80,marginBottom:10}},moneyFontSize:{fontSize:24,color:"#911b91","@media (max-width: 705px)":{fontSize:20}},cashContainer:{marginLeft:150,"@media (max-width: 705px)":{marginLeft:80}}}),h=Object(d.a)({root:{width:"85%",alignSelf:"center"}}),f=Object(d.a)({appBarContainer:{display:"flex",alignItems:"center"},appBarText:{color:"#000a34",flexGrow:1,textAlign:"justify",fontWeight:"bold",fontSize:26,letterSpacing:.3,fontFamily:"Circular Std,sans-serif",marginLeft:20}}),x=Object(d.a)({root:{padding:20},buttonContainer:{marginTop:40,display:"flex",width:"100%",alignItems:"center",justifyContent:"center"}}),O=Object(d.a)({root:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{display:"flex",height:400,maxWidth:500,flexDirection:"column",justifyContent:"center",padding:"50px 50px 50px 50px"},text:{marginBottom:40,fontFamily:"Circular Std,sans-serif",fontSize:20,textAlign:"center"}}),y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:3},g={backgroundColor:"#f8f8f8",border:"2px solid #696969"},v={backgroundColor:"#f5f5f5"},w=a(364),C=a(83),E=a.n(C),R=a(16),S=a(144),k=a(360),T=a(353),D=a(2),N=Object(T.a)("button")("\n  background-color: #ffc126;\n  padding: 15px 40px 15px 40px;\n  border-radius: 10px;\n  color: #000a34;\n  font-weight: bold;\n  font-family: Circular Std,sans-serif;\n  font-size: 14px;\n  transition: all 200ms ease;\n  cursor: pointer;\n  box-shadow: 0 4px 20px 0 rgba(61, 71, 82, 0.1), 0 0 0 0 rgba(0, 127, 255, 0);\n  border: none;\n  width: 135px;\n\n  &:hover {\n    background-color: #ffdb80;\n  }\n\n  &.".concat(S.a.active," {\n    background-color: #ffc126;\n  }\n\n  &.").concat(S.a.focusVisible," {\n    box-shadow: 0 4px 20px 0 rgba(61, 71, 82, 0.1), 0 0 0 5px rgba(0, 127, 255, 0.5);\n    outline: none;\n  }\n\n  &.").concat(S.a.disabled," {\n    opacity: 0.5;\n    cursor: not-allowed;\n    box-shadow: 0 0 0 0 rgba(0, 127, 255, 0);\n  }\n")),L=function(e){return Object(D.jsx)(k.a,Object(R.a)(Object(R.a)({},e),{},{component:N}))},A=function(){var e=Object(n.useContext)(l).successLogin,t=Object(n.useContext)(s).getError,a=O();return Object(D.jsx)("div",{className:a.root,children:Object(D.jsxs)(w.a,{elevation:3,className:a.paper,children:[Object(D.jsx)("div",{className:a.text,children:"Welcome to the Peer and Reward application. To continue using the application please login."}),Object(D.jsx)("div",{style:{alignSelf:"center"},children:Object(D.jsx)(E.a,{clientId:"303818038429-3dru92jlbiqu83u1mu4rp9idl5m1hh8d.apps.googleusercontent.com",buttonText:"login",onSuccess:e,onFailure:function(e){t(e.details)},cookiePolicy:"single_host_origin",style:{marginTop:20},isSignedIn:!1,render:function(e){return Object(D.jsx)(L,{onClick:e.onClick,children:"Sign In"})}})})]})})},z=function(){var e=p(),t=Object(n.useContext)(s),a=t.state,r=t.setEmployee,o=Object(n.useContext)(l).state;Object(n.useEffect)((function(){r()}),[r]);var i=a.employees.find((function(e){var t;return e.name===(null===(t=o.user)||void 0===t?void 0:t.name)}));return i?Object(D.jsxs)("div",{className:e.employeeContainer,children:[Object(D.jsxs)("div",{className:e.avatarContainer,children:[Object(D.jsx)(c.a,{className:e.avatar,alt:i.name,sx:{width:86,height:86},src:i.avatar}),Object(D.jsx)("div",{"data-testid":"employeeName",children:i.name})]}),Object(D.jsxs)("div",{className:e.infoContainer,children:[Object(D.jsxs)("div",{className:e.rewardsContainer,children:[Object(D.jsx)("div",{style:{marginBottom:10},children:"My Rewards"}),Object(D.jsxs)("div",{"data-testid":"myReward",className:e.moneyFontSize,children:["$",i.myReward]})]}),Object(D.jsxs)("div",{className:e.cashContainer,children:[Object(D.jsx)("div",{style:{marginBottom:10},children:"Give"}),Object(D.jsxs)("div",{"data-testid":"give",className:e.moneyFontSize,children:["$",i.give]})]})]})]}):Object(D.jsx)(A,{})},B=a(9),W=a(152),G=a.n(W),I=a(371),P=function(e){return{id:"action-tab-".concat(e),"aria-controls":"action-tabpanel-".concat(e)}},M=a(365),_=a(146),F=a.n(_),U=r.a.memo((function(e){var t=e.from,a=e.to,n=e.why,r=e.date,o=e.employees,i=j(),s=o.find((function(e){return e.name===t}));return s?Object(D.jsxs)("div",{className:i.root,children:[Object(D.jsx)(c.a,{alt:s.name,sx:{width:56,height:56},src:s.avatar}),Object(D.jsxs)("div",{className:i.feedContainer,children:[Object(D.jsxs)("div",{className:i.userContainer,children:[Object(D.jsxs)("div",{children:[t," rewarded by ",a]}),Object(D.jsx)(M.a,{title:r.toDateString(),children:Object(D.jsx)("span",{className:i.dateStyle,children:Object(D.jsx)(F.a,{className:i.dateMoment,fromNow:!0,children:r})})})]}),Object(D.jsx)("div",{className:i.feedInfo,children:n})]})]}):null})),V=a(358),Y=a(362),q=a(345),J=a(366),K=a(356),H=a(352),Q=a(363),Z=a(369),$=a(367),X=a(154),ee=a(72),te=function(e){var t=e.children;return Object(D.jsx)("div",{style:{marginTop:10,color:"tomato"},children:t})},ae=r.a.memo((function(e){var t,a=e.open,r=e.handleClose,o=e.addRewardToEmployee,i=e.autocompleteData,c=e.amount,s=x(),l=Object(X.a)({initialValues:{toEmployee:"",amount:"",why:""},onSubmit:function(e){o(e.toEmployee,+e.amount,e.why),c<+e.amount||(e.toEmployee="",e.amount="",e.why="",r())},validationSchema:(t=i,ee.b().shape({toEmployee:ee.c().required("Enter name").oneOf(t),amount:ee.a().min(1,"Minimum amount of currency 1 $").required("Enter amount"),why:ee.c().min(2,"The minimum number of characters is 3!").required("Write text")}))});return Object(D.jsx)(V.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:a,onClose:r,closeAfterTransition:!0,BackdropComponent:Y.a,BackdropProps:{timeout:1e3},children:Object(D.jsx)(q.a,{in:a,children:Object(D.jsx)(J.a,{sx:y,children:Object(D.jsxs)("form",{className:s.root,onSubmit:l.handleSubmit,children:[Object(D.jsx)($.a,{id:"transition-modal-description",sx:{mt:2},children:"To"}),Object(D.jsx)(K.a,{disablePortal:!0,color:"purple",fullWidth:!0,onChange:function(e,t){l.setFieldValue("toEmployee",t)},renderInput:function(e){return Object(n.createElement)(H.a,Object(R.a)(Object(R.a)({},e),{},{key:(new Date).getDate(),id:"toEmployee",name:"toEmployee",type:"text",color:"secondary",onChange:l.handleChange,value:l.values.toEmployee,fullWidth:!0,error:!!l.errors.toEmployee}))},options:i}),l.touched.toEmployee&&l.errors.toEmployee&&Object(D.jsx)(te,{children:"Enter correct employee"}),Object(D.jsx)($.a,{id:"transition-modal-description",sx:{mt:2},children:"Reward"}),Object(D.jsx)(Q.a,{id:"amount",name:"amount",type:"number",color:"secondary",onChange:l.handleChange,value:l.values.amount,fullWidth:!0,startAdornment:Object(D.jsx)(Z.a,{position:"start",children:"$"}),inputProps:{"data-testid":"amount"},error:!!l.errors.amount}),l.touched.amount&&l.errors.amount&&Object(D.jsx)(te,{children:l.errors.amount}),Object(D.jsx)($.a,{id:"transition-modal-description",sx:{mt:2},children:"Why?"}),Object(D.jsx)(H.a,{id:"why",name:"why",multiline:!0,onChange:l.handleChange,value:l.values.why,placeholder:"Why?",rows:4,color:"secondary",fullWidth:!0,inputProps:{"data-testid":"why"},error:!!l.errors.why}),l.touched.why&&l.errors.why&&Object(D.jsx)(te,{children:l.errors.why}),Object(D.jsx)("div",{className:s.buttonContainer,children:Object(D.jsx)(L,{type:"submit",children:"Reward"})})]})})})})})),ne=r.a.memo((function(e){var t=e.children,a=e.value,n=e.index,r=b();return Object(D.jsx)($.a,{className:r.root,component:"div",role:"tabpanel",hidden:a!==n,id:"action-tabpanel-".concat(n),"aria-labelledby":"action-tab-".concat(n),children:t})})),re=a(5),oe=a(370),ie=a(355),ce=Object(re.a)((function(e){return Object(D.jsx)(ie.a,Object(R.a)(Object(R.a)({},e),{},{TabIndicatorProps:{children:Object(D.jsx)("span",{className:"MuiTabs-indicatorSpan"})}}))}))({marginLeft:120,"& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"#911b91"},"& .MuiTabs-indicatorSpan":{maxWidth:40,width:"100%"}}),se=Object(re.a)((function(e){return Object(D.jsx)(oe.a,Object(R.a)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{textTransform:"none",fontWeight:"bold",fontSize:t.typography.pxToRem(15),marginRight:t.spacing(1),fontFamily:"Circular Std,sans-serif",color:"#000a34",backgroundColor:"#fff",border:"2px solid black",borderRadius:10,padding:"5px 20px 5px 20px",boxShadow:"0 4px 20px 0 rgba(61, 71, 82, 0.1), 0 0 0 0 rgba(0, 127, 255, 0)",marginBottom:5,width:140,"&.Mui-selected":{backgroundColor:"#ffc126",color:"#000a34",transition:"all 200ms ease",cursor:"pointer",border:"none"},"&.Mui-focusVisible":{backgroundColor:"red"}}})),le=r.a.memo((function(e){var t=e.open,a=e.value,n=e.state,r=e.addRewardToEmployee,o=e.myRewards,i=e.autocompleteData,c=e.currentEmployee,s=e.handleOpen,l=e.handleClose,d=e.handleChange,u=m();return Object(D.jsxs)("div",{className:u.root,children:[Object(D.jsx)("div",{className:u.iconContainer,children:Object(D.jsx)("div",{className:u.iconPosition,children:Object(D.jsx)(I.a,{size:"large",style:g,children:Object(D.jsx)(G.a,{"data-testid":"modalIcon",color:"inherit",fontSize:"large",onClick:s})})})}),Object(D.jsxs)(ce,{value:a,onChange:d,"aria-label":"feed",children:[Object(D.jsx)(se,Object(R.a)({label:"Feed"},P(0))),Object(D.jsx)(se,Object(R.a)({label:"My Rewards"},P(1)))]}),Object(D.jsx)("hr",{}),Object(D.jsxs)("div",{className:u.itemContainer,children:[Object(D.jsx)(ne,{value:a,index:0,children:n.rewardsData.map((function(e,t){return Object(D.jsx)(U,Object(R.a)({employees:n.employees},e),e.from+t)}))}),Object(D.jsx)(ne,{value:a,index:1,children:o.map((function(e,t){return Object(D.jsx)(U,{from:e.from,to:e.to,why:e.why,date:e.date,employees:n.employees},e.from+t)}))})]}),Object(D.jsx)(ae,{"data-testid":"modalOpen",open:t,handleClose:l,amount:c.myReward,addRewardToEmployee:r,autocompleteData:i})]})})),de=function(){var e=Object(n.useState)(0),t=Object(B.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(B.a)(o,2),c=i[0],d=i[1],u=Object(n.useContext)(s),m=u.state,b=u.addRewardToEmployee,j=u.myRewards,p=u.autocompleteData,h=Object(n.useContext)(l).state,f=m.employees.find((function(e){var t;return e.name===(null===(t=h.user)||void 0===t?void 0:t.name)}));return f?Object(D.jsx)(le,{value:a,open:c,myRewards:j,addRewardToEmployee:b,autocompleteData:p,handleClose:function(){return d(!1)},state:m,currentEmployee:f,handleChange:function(e,t){r(t)},handleOpen:function(){return d(!0)}}):Object(D.jsx)("div",{children:"Something went wrong!"})},ue=a(153),me=a.n(ue),be=a(372),je=a(373),pe=a(368),he=function(){var e=f(),t=Object(n.useContext)(l),a=t.state,r=t.successLogout,o=Object(n.useContext)(s).deleteEmployee;return Object(D.jsx)(J.a,{sx:{flexGrow:1},children:Object(D.jsx)(be.a,{position:"static",style:v,children:Object(D.jsxs)(je.a,{children:[Object(D.jsx)(pe.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(D.jsx)(me.a,{style:{color:"#000a34"}})}),Object(D.jsx)("div",{className:e.appBarText,children:"Peer and Rewards"}),a.auth.isAuth?Object(D.jsx)(C.GoogleLogout,{onLogoutSuccess:function(){r(),o()},render:function(e){return Object(D.jsx)(L,{onClick:e.onClick,children:"Logout"})},clientId:"303818038429-3dru92jlbiqu83u1mu4rp9idl5m1hh8d.apps.googleusercontent.com"}):null]})})})},fe=function(e){var t=e.children,a=Object(n.useContext)(l).state,r=h();return a.auth.isAuth?Object(D.jsx)("div",{className:r.root,children:t}):Object(D.jsx)(A,{})},xe=a(359),Oe=a(357),ye=r.a.forwardRef((function(e,t){return Object(D.jsx)(Oe.a,Object(R.a)({elevation:6,ref:t,variant:"filled"},e))})),ge=function(e){var t=e.handleClose,a=Object(n.useContext)(s).state;return Object(D.jsx)(xe.a,{"data-testid":"snack-bar",open:!!a.errors,autoHideDuration:6e3,onClose:t,anchorOrigin:{horizontal:"center",vertical:"bottom"},children:Object(D.jsx)(ye,{onClose:t,severity:"warning",sx:{width:"100%"},children:a.errors})})},ve=function(e){return{type:"SET_ERROR",payload:{error:e}}},we=a(14),Ce={employees:[{name:"James William",myReward:250,give:100,avatar:"https://www.nj.com/resizer/zovGSasCaR41h_yUGYHXbVTQW2A=/1280x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg"},{name:"David Greene",myReward:300,give:150,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRthZcF6C12-eMC0JrJdv4CWO40-emM4BBFlw&usqp=CAU"},{name:"John Chen",myReward:200,give:150,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3AGnMFzOLvv-du52tYrZXv32ChA-0yr0urA&usqp=CAU"},{name:"Alex Brown",myReward:400,give:30,avatar:"https://static.toiimg.com/thumb/resizemode-4,msid-76729750,imgsize-249247,width-720/76729750.jpg"},{name:"Rajesh Kumar",myReward:5030,give:430,avatar:"https://www.nj.com/resizer/zovGSasCaR41h_yUGYHXbVTQW2A=/1280x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg"}],rewardsData:[{from:"David Greene",to:"Rajesh Kuma",why:"Big thanks for your help in helping on the outage today!!",date:new Date(2021,9,6)},{from:"Alex Brown",to:"Rajesh Kumar",why:"Thanks for your help in creating the product overview deck. Your help to show cases those scenarios really helped in closing the loop on the story",date:new Date(2021,8,14)},{from:"James William",to:"Rajesh Kumar",why:"Thanks for your help",date:new Date(2021,1,14)}],errors:null},Ee={auth:{isAuth:!1},user:null},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_REWARDS":return Object(R.a)(Object(R.a)({},e),{},{employees:Object(we.a)(t.payload.employee),rewardsData:[{from:t.payload.from,to:t.payload.to,why:t.payload.why,date:new Date}].concat(Object(we.a)(e.rewardsData))});case"SET_ERROR":return Object(R.a)(Object(R.a)({},e),{},{errors:t.payload.error});case"RESET_ERROR":return Object(R.a)(Object(R.a)({},e),{},{errors:null});case"ADD_EMPLOYEE":return Object(R.a)(Object(R.a)({},e),{},{employees:[].concat(Object(we.a)(e.employees),[{name:t.payload.name,myReward:250,give:0,avatar:t.payload.avatar}])});case"DELETE_EMPLOYEE":return Object(R.a)(Object(R.a)({},e),{},{employees:e.employees.filter((function(e){return e.name!==t.payload.name}))})}return e},Se=function(e){var t,a=e.children,r=Object(n.useContext)(l).state,o=Object(n.useReducer)(Re,Ce),i=Object(B.a)(o,2),c=i[0],d=i[1],u=Object(n.useRef)("");!u.current&&(null===(t=r.user)||void 0===t?void 0:t.name)&&(u.current=r.user.name);var m=c.rewardsData.filter((function(e){return e.from===u.current})),b=[];c.employees.map((function(e){if(e.name!==u.current)return b.push(e.name)}));var j=Object(n.useCallback)((function(e,t,a){d({type:"RESET_ERROR"});var n=c.employees.find((function(e){return e.name===u.current})),r=c.employees.find((function(t){return t.name===e})),o=[];if(c.employees.filter((function(t){t.name!==u.current&&t.name!==e&&o.push(t)})),n&&r&&o){if(n.myReward<t)return d(ve("You have exceeded your balance"));n.myReward=n.myReward-t,n.give=n.give+t,r.myReward=r.myReward+t;var i=[].concat(o,[n,r]);return d(function(e,t,a,n){return{type:"ADD_REWARDS",payload:{employee:e,from:t,to:a,why:n}}}(i,u.current,e,a))}}),[c.employees,d]),p=Object(n.useCallback)((function(e,t){"clickaway"!==t&&d({type:"RESET_ERROR"})}),[d]),h=Object(n.useCallback)((function(e){d(ve(e))}),[d]),f=Object(n.useCallback)((function(){var e,t;r.user&&d((e=r.user.name,t=r.user.imageUrl,{type:"ADD_EMPLOYEE",payload:{name:e,avatar:t}}))}),[d,r]),x=Object(n.useCallback)((function(){d({type:"DELETE_EMPLOYEE",payload:{name:u.current}}),u.current=""}),[d,u]);return Object(D.jsxs)(s.Provider,{value:{state:c,addRewardToEmployee:j,setEmployee:f,deleteEmployee:x,myRewards:m,autocompleteData:b,getError:h},children:[a,Object(D.jsx)(ge,{handleClose:p})]})},ke=function(e,t){switch(t.type){case"LOGIN":return Object(R.a)(Object(R.a)({},e),{},{auth:{isAuth:!0}});case"LOGOUT":return Object(R.a)(Object(R.a)({},e),{},{auth:{isAuth:!1}});case"SET_USER":return Object(R.a)(Object(R.a)({},e),{},{user:{email:t.payload.email,name:t.payload.name,imageUrl:t.payload.imageUrl,myRewards:250,give:0}});case"DELETE_USER":return Object(R.a)(Object(R.a)({},e),{},{user:null})}return e},Te=function(e){var t=e.children,a=Object(n.useReducer)(ke,Ee),r=Object(B.a)(a,2),o=r[0],i=r[1],c=Object(n.useCallback)((function(e){var t,a,n;"profileObj"in e&&(i((t=e.profileObj.name,a=e.profileObj.email,n=e.profileObj.imageUrl,{type:"SET_USER",payload:{name:t,email:a,imageUrl:n}})),i({type:"LOGIN"}))}),[i]),s=Object(n.useCallback)((function(){i({type:"LOGOUT"})}),[i]);return Object(D.jsx)(l.Provider,{value:{state:o,successLogin:c,successLogout:s},children:t})},De=function(){var e=u();return Object(n.useEffect)((function(){document.title="Peer Rewards"}),[]),Object(D.jsx)("div",{className:e.root,children:Object(D.jsx)(Te,{children:Object(D.jsxs)(Se,{children:[Object(D.jsx)(he,{}),Object(D.jsxs)(fe,{children:[Object(D.jsx)(z,{}),Object(D.jsx)(de,{})]})]})})})},Ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,374)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(De,{})}),document.getElementById("root")),Ne()}},[[282,1,2]]]);
//# sourceMappingURL=main.c9ce3ff9.chunk.js.map